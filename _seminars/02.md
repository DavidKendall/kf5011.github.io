---
title: Events and interrupts
layout: default
excerpt_separator: <!--more-->
---
Handling events, button interrupts and timer interrupts.
We want to be able to respond to external events, as they occur.
Or to create a precisely timed series of events.
<!--more-->

{::options parse_block_html="true" /}

<section class="note">
[Signal Edge](https://en.wikipedia.org/wiki/Signal_edge)
<dl>
 <dt>
 rising edge
 </dt>
 <dd>
 when the pin chages from a 0 to a 1
 </dd>
 <dt>
 faling egde
 </dt>
 <dd>
 when the pin chages from a 1 to a 0
 </dd>
</dl>
</section>

<section class="exercise">
### Button edge Events
The repository [s2.1](https://github.com/kf5011/s2.1) uses a falling and rising edge interrupt on each of the two buttons on the base board.

1. Run the program and examine it's behaviour.  (You'll need the serial-monitor to see the output from the print statements)
2. Pay close attention to when the actions occur, when the button is pressed or released.

<section class="question">
1. Identify the input pins related to the buttons and the 5-way joystick on the shield.
2. Each pin can have an interrupt for the rising-edge and falling-edge signal, a total of 14 possible interrupts.
3. Investigate the actions of the interrupts for the base-board switches and the 5-way switch.  What differences can you see?
</section>
</section>

<section class="exercise">
### Timer interrupts
The FRDM-K64F had a Periodic Interrupt Timer (PIT).  This can generate an interrupt at a given rate.  There are 4 individual timers, which can be used in isolation or chained together to give a more flexible (and longer period) interrupt pattern.

The Mbed library uses this to drive a soft-timer.  This allows an arbitrary number of functions to be called at given periods, rather that depend on hardware limits.

Clone [s2.2](https://github.com/kf5011/s2.2)

Modify the timer to use a 

</section>
